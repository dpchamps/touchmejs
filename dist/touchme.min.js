/*! touchme 31-03-2014 */
(function(){"use strict";var a=this,b=this.document||{},c=this.CustomEvent||function(){var a=function(a,c){c=c||{bubbles:!1,cancelable:!1,detail:void 0};var d=b.createEvent("CustomEvent");return d.initCustomEvent(a,c.bubbles,c.cancelable,c.detail),d};a.prototype=this.Event.prototype,this.CustomEvent=a},d=function(a){var d,e,f,g,h,i,j,k,l,m,n="ontouchstart"in this,o=!1,p=0,q={swipeThreshold:80,tapThreshold:200,holdThreshold:550,precision:45,onlyTouch:!1,swipeOnlyTouch:!1,nTap:!1};if(a)for(var r in a)a.hasOwnProperty(r)&&q.hasOwnProperty(r)&&(q[r]=a[r]);var s=function(a){return a.targetTouches?a.targetTouches[0]:a},t=function(a,b,c){for(var d=b.split(" "),e=d.length;e--;)a.addEventListener(d[e],c,!1)},u=function(){return f>=h-q.precision&&f<=h+q.precision&&g>=i-q.precision&&g<=i+q.precision},v=function(a,b,d){d=d||{x:f,y:g};var e=new c(b,{bubbles:!0,cancelable:!0});for(var h in d)d.hasOwnProperty(h)&&(e[h]=d[h]);a.dispatchEvent(e)};return q.onlyTouch&&(n=!0),t(b,n?"touchstart":"mousedown",function(a){o=!0,p+=1;var b=s(a);h=f=b.pageX,i=g=b.pageY,clearTimeout(d),d=setTimeout(function(){if(u()&&!o){var b=p>=2?"dbltap":"tap";q.ntap&&(b=p>=3?"ntap":b),v(a.target,b,{taps:p}),p=0}},q.tapThreshold),clearTimeout(e),e=setTimeout(function(){u()&&o&&(k=!0,j=a,l=j.pageX,m=j.pageY,v(j,"hold",{holdElement:j}),p=0)},q.holdThreshold)}),t(b,n?"touchmove":"mousemove",function(a){var b=s(a);f=b.pageX,g=b.pageY}),t(b,n?"touchend":"mouseup",function(a){o=!1;var b=[],c=h-f,d=i-g,e=Math.atan2(g-i,f-h);0>e&&(e+=2*Math.PI),(c<=q.swipeThreshold||d<=q.swipeThreshold)&&b.push("swipe"),c<=-q.swipeThreshold&&b.push("swiperight"),c>=q.swipeThreshold&&b.push("swipeleft"),d>=q.swipeThreshold&&b.push("swipeup"),d<=-q.swipeThreshold&&b.push("swipedown");for(var n=b.length;n--;)v(a.target,b[n],{distance:{x:Math.abs(c),y:Math.abs(d)},direction:{radians:e,degrees:e*(180/Math.PI)}});k&&(k=!1,v(j,"holdRelease",{originalX:l,originalY:m}))}),n};void 0!==module&&module.exports?module.exports=d:a.touchme=d,d.VERSION="0.1.0"}).call(this);