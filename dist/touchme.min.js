/*! touchme 09-11-2016 */
(function(){"use strict";var a=this,b=this.document||{},c=this.CustomEvent;("undefined"==typeof c||"object"==typeof c)&&(c=function(){function c(a,c){c=c||{bubbles:!1,cancelable:!1,detail:void 0};var d=b.createEvent("CustomEvent");return d.initCustomEvent(a,c.bubbles,c.cancelable,c.detail),d}return c.prototype=a.Event.prototype,c}());var d=function(d){var e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u="ontouchstart"in a,v=!1,w=0,x=!1,y={swipePrecision:80,swipeThreshold:100,tapThreshold:150,pinchResolution:15,holdThreshold:550,precision:20,holdPrecision:200,onlyTouch:!1,onlyTap:!1,swipeOnlyTouch:!1,nTap:!1};if(d)for(var z in d)d.hasOwnProperty(z)&&y.hasOwnProperty(z)&&(y[z]=d[z]);var A=function(){return g>=i-y.precision&&g<=i+y.precision&&h>=j-y.precision&&h<=j+y.precision},B=function(){return g>=i-y.holdPrecision&&g<=i+y.holdPrecision&&h>=j-y.holdPrecision&&h<=j+y.holdPrecision},C=function(a,b,c){for(var d=b.split(" "),e=d.length;e--;)y.onlyTouch&&d[e].match(/mouse/)||a.addEventListener(d[e],c,!1)},D=function(a){return a.targetTouches?a.targetTouches[0]:a},E=function(a){var b=!1;return a.targetTouches&&a.targetTouches[0]&&a.targetTouches[1]&&(b=!0),b},F=function(a){for(var b={},c=a.targetTouches,d=0;d<c.length;d++){var e="touch"+d;b[e]={x:c[d].clientX,y:c[d].clientY,id:c[d].identifier}}return b},G=function(a){var b,c=a.touch0.x,d=a.touch1.x,e=a.touch0.y,f=a.touch1.y;return b={x:(c+d)/2,y:(e+f)/2}},H=function(a,b,c,d){return Math.sqrt(Math.pow(b-a,2)+Math.pow(d-c,2))},I=function(a,b){var c=H(a.touch0.x,b.touch0.x,a.touch0.y,b.touch0.y),d=H(a.touch1.x,b.touch1.x,a.touch1.y,b.touch1.y),e=!1;return(c>y.pinchResolution||d>y.pinchResolution)&&(e=!0),e},J=function(a,b,d){d=d||{x:g,y:h};var e=new c(b,{bubbles:!0,cancelable:!0});for(var f in d)d.hasOwnProperty(f)&&(e[f]=d[f]);a.dispatchEvent(e)};y.onlyTouch&&(u=!0),C(b,u?"mousedown touchstart":"mousedown",function(a){if(t){if(t!==a.type)return!1}else t=a.type;v=!0,w+=1;var b=D(a);i=g=b.clientX,j=h=b.clientY,clearTimeout(e),e=setTimeout(function(){if(A()&&!v){var b=w>=2?"dbltap":"tap";J(a.target,b,{x:g,y:h}),t=void 0,w=0}else(!A()||l)&&(w=0)},y.tapThreshold),clearTimeout(f),l||(f=setTimeout(function(){B()&&v&&(l=!0,o=setInterval(function(){p=g,q=h},50),k=a,m=b.clientX,n=b.clientY,J(k.target,"hold",{x:g,y:h,touches:a.touches}))},y.holdThreshold)),E(a)&&(r=F(a),r.distance=H(r.touch0.x,r.touch1.x,r.touch0.y,r.touch1.y),r.midPoint=G(F(a))),s=setTimeout(function(){x=!0},y.swipeThreshold)}),C(b,u?"mousemove touchmove":"mousemove",function(a){var b=D(a);if(g=b.clientX,h=b.clientY,l&&J(k.target,"drag",{x:g,y:h}),E(a)){var c={};c.touchPoints=F(a),c.distance=H(c.touchPoints.touch0.x,c.touchPoints.touch1.x,c.touchPoints.touch0.y,c.touchPoints.touch1.y),c.midPoint=G(c.touchPoints),c.initialPinch=r,I(c.initialPinch,c.touchPoints)&&(J(a.target,"pinch",c),r=c.touchPoints,r.distance=c.distance,r.midPoint=c.midPoint)}}),C(b,u?"mouseup touchend":"mouseup",function(a){if(v=!1,r&&(r=void 0,J(a.target,"pinchrelease")),l){if(a.touches&&a.touches.length>0)return!1;l=!1,clearInterval(o),J(k.target,"holdrelease",{originalX:m,originalY:n,lastX:p,lastY:q,touches:a.touches})}});var K=u?"mouseup touchend":"mouseup";return K=y.swipeOnlyTouch?"touchend":K,C(b,K,function(a){v=!1;var b=[],c=i-g,d=j-h,e=Math.atan2(h-j,-(g-i))+Math.PI,f=a.touches&&a.touches.length>1;(c<=y.swipePrecision||d<=y.swipePrecision)&&f===!1&&c>0&&d>0&&b.push("swipe"),c<=-y.swipePrecision&&b.push("swiperight"),c>=y.swipePrecision&&b.push("swipeleft"),d>=y.swipePrecision&&b.push("swipeup"),d<=-y.swipePrecision&&b.push("swipedown");var k=b.length;if(x===!1){for(;k--;)J(a.target,b[k],{distance:{x:Math.abs(c),y:Math.abs(d)},direction:{radians:e,degrees:e*(180/Math.PI)}}),w=0;clearTimeout(s)}else x=!1,clearTimeout(s),b=[]}),u};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=d),exports.touchme=d):a.touchme=d,d.VERSION="0.2.0"}).call(this);