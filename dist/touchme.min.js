/*! touchme 03-01-2016 */
(function(){"use strict";var a=this,b=this.document||{},c=this.CustomEvent;("undefined"==typeof c||"object"==typeof c)&&(c=function(){function c(a,c){c=c||{bubbles:!1,cancelable:!1,detail:void 0};var d=b.createEvent("CustomEvent");return d.initCustomEvent(a,c.bubbles,c.cancelable,c.detail),d}return c.prototype=a.Event.prototype,c}());var d=function(d){var e="ontouchstart"in a;console.log("test");var f,g,h,i,j,k,l,m,n,o,p,q,r,s=!1,t=0,u={swipeThreshold:80,tapThreshold:150,holdThreshold:550,precision:45,onlyTouch:!1,onlyTap:!1,swipeOnlyTouch:!1,nTap:!1};if(d)for(var v in d)d.hasOwnProperty(v)&&u.hasOwnProperty(v)&&(u[v]=d[v]);var w=function(){return h>=j-u.precision&&h<=j+u.precision&&i>=k-u.precision&&i<=k+u.precision},x=function(a,b,c){for(var d=b.split(" "),e=d.length;e--;)u.onlyTouch&&d[e].match(/mouse/)||a.addEventListener(d[e],c,!1)},y=function(a){return a.targetTouches?a.targetTouches[0]:a},z=function(a){var b=!1;return a.targetTouches&&a.targetTouches[0]&&a.targetTouches[1]&&(b=!0),b},A=function(a){for(var b={},c=a.targetTouches,d=0;d<c.length;d++){var e="touch"+d;b[e]={x:c[d].pageX,y:c[d].pageY,id:c[d].identifier}}return b},B=function(a){var b,c=a.touch0.x,d=a.touch1.x,e=a.touch0.y,f=a.touch1.y;return b={x:(c+d)/2,y:(e+f)/2}},C=function(a){var b,c=a.touch0.x,d=a.touch1.x,e=a.touch0.y,f=a.touch1.y;return b=Math.sqrt(Math.pow(d-c,2)+Math.pow(f-e,2))},D=function(a,b,d){d=d||{x:h,y:i};var e=new c(b,{bubbles:!0,cancelable:!0});for(var f in d)d.hasOwnProperty(f)&&(e[f]=d[f]);a.dispatchEvent(e)};u.onlyTouch&&(e=!0),x(b,e?"mousedown touchstart":"mousedown",function(a){s=!0,t+=1;var b=y(a);j=h=b.pageX,k=i=b.pageY,clearTimeout(f),u.onlyTap?D(a.target,"tap",{taps:t,x:h,y:i}):(f=setTimeout(function(){if(w()&&!s){var b=t>=2?"dbltap":"tap";u.ntap&&(b=t>=3?"ntap":b),D(a.target,b,{taps:t,x:h,y:i}),t=0}else w()||(t=0)},u.tapThreshold),clearTimeout(g),g=setTimeout(function(){w()&&s&&(m=!0,p=setInterval(function(){q=h,r=i},50),l=a,n=l.pageX,o=l.pageY,D(l.target,"hold",{x:h,y:i}),t=0)},u.holdThreshold))}),x(b,e?"mousemove touchmove":"mousemove",function(a){var b=y(a);if(h=b.pageX,i=b.pageY,m&&D(l.target,"drag",{x:h,y:i}),z(a)){var c=A(a),d=C(c),e=B(c);c.distance=d,c.midPoint=e,D(a.target,"pinch",c)}}),x(b,e?"mouseup touchend":"mouseup",function(){s=!1,m&&(m=!1,clearInterval(p),D(l.target,"holdrelease",{originalX:n,originalY:o,lastX:q,lastY:r}))});var E=e?"mouseup touchend":"mouseup";return E=u.swipeOnlyTouch?"touchend":E,x(b,E,function(a){s=!1;var b=[],c=j-h,d=k-i,e=Math.atan2(i-k,h-j);0>e&&(e+=2*Math.PI),(c<=u.swipeThreshold||d<=u.swipeThreshold)&&b.push("swipe"),c<=-u.swipeThreshold&&b.push("swiperight"),c>=u.swipeThreshold&&b.push("swipeleft"),d>=u.swipeThreshold&&b.push("swipeup"),d<=-u.swipeThreshold&&b.push("swipedown");for(var f=b.length;f--;)D(a.target,b[f],{distance:{x:Math.abs(c),y:Math.abs(d)},direction:{radians:e,degrees:e*(180/Math.PI)}})}),e};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=d),exports.touchme=d):a.touchme=d,d.VERSION="0.1.0"}).call(this);