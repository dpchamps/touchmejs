/*! touchme 02-04-2014 */
(function(){"use strict";var a=this,b=this.document||{},c=this.CustomEvent||function(){var a=function(a,c){c=c||{bubbles:!1,cancelable:!1,detail:void 0};var d=b.createEvent("CustomEvent");return d.initCustomEvent(a,c.bubbles,c.cancelable,c.detail),d};a.prototype=this.Event.prototype,this.CustomEvent=a},d=function(d){var e,f,g,h,i,j,k,l,m,n,o="ontouchstart"in a,p=!1,q=0,r={swipeThreshold:80,tapThreshold:200,holdThreshold:550,precision:45,onlyTouch:!1,swipeOnlyTouch:!1,nTap:!1};if(d)for(var s in d)d.hasOwnProperty(s)&&r.hasOwnProperty(s)&&(r[s]=d[s]);var t=function(){return g>=i-r.precision&&g<=i+r.precision&&h>=j-r.precision&&h<=j+r.precision},u=function(a,b,c){for(var d=b.split(" "),e=d.length;e--;)a.addEventListener(d[e],c,!1)},v=function(a){return a.targetTouches?a.targetTouches[0]:a},w=function(a,b,d){d=d||{x:g,y:h};var e=new c(b,{bubbles:!0,cancelable:!0});for(var f in d)d.hasOwnProperty(f)&&(e[f]=d[f]);a.dispatchEvent(e)};r.onlyTouch&&(o=!0),u(b,o?"touchstart":"mousedown",function(a){p=!0,q+=1;var b=v(a);i=g=b.pageX,j=h=b.pageY,clearTimeout(e),e=setTimeout(function(){if(t()&&!p){var b=q>=2?"dbltap":"tap";r.ntap&&(b=q>=3?"ntap":b),w(a.target,b,{taps:q}),q=0}else t()||(q=0)},r.tapThreshold),clearTimeout(f),f=setTimeout(function(){t()&&p&&(l=!0,k=a,m=k.pageX,n=k.pageY,w(k.target,"hold",{holdElement:k}),q=0)},r.holdThreshold)}),u(b,o?"touchmove":"mousemove",function(a){var b=v(a);g=b.pageX,h=b.pageY}),u(b,o?"touchend":"mouseup",function(){p=!1,l&&(l=!1,w(k.target,"holdRelease",{originalX:m,originalY:n}))});var x=o?"touchend":"mouseup";return x=r.swipeOnlyTouch?"touchend":x,u(b,x,function(a){p=!1;var b=[],c=i-g,d=j-h,e=Math.atan2(h-j,g-i);0>e&&(e+=2*Math.PI),(c<=r.swipeThreshold||d<=r.swipeThreshold)&&b.push("swipe"),c<=-r.swipeThreshold&&b.push("swiperight"),c>=r.swipeThreshold&&b.push("swipeleft"),d>=r.swipeThreshold&&b.push("swipeup"),d<=-r.swipeThreshold&&b.push("swipedown");for(var f=b.length;f--;)w(a.target,b[f],{distance:{x:Math.abs(c),y:Math.abs(d)},direction:{radians:e,degrees:e*(180/Math.PI)}})}),o};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=d),exports.touchme=d):a.touchme=d,d.VERSION="0.1.0"}).call(this);